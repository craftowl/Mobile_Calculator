# CLAUDE.md

このファイルは、このリポジトリでコードを操作する際にClaude Code (claude.ai/code) にガイダンスを提供します。

## プロジェクト概要

これは段階的な機能実装を通じてモバイル開発を学習することに焦点を当てたReact Native + Expo電卓アプリプロジェクトです。このアプリは基本的な電卓から履歴と設定を持つ多機能科学電卓へと発展するよう設計されています。

## 開発コマンド

```bash
# 開発サーバーの起動
pnpm start        # または npm start / expo start

# プラットフォーム固有のビルド
pnpm run android  # Android開発の開始
pnpm run ios      # iOS開発の開始
pnpm run web      # Web開発の開始

# パッケージ管理
pnpm install      # 依存関係のインストール
```

## アーキテクチャ

### コア構造
- **App.tsx**: 基本的なReact Nativeセットアップを持つメインアプリケーションエントリーポイント
- **index.ts**: Expoルートコンポーネント登録
- **app.json**: プラットフォーム固有設定を持つExpo設定
- **doc/expo_calculator_requirements.md**: 完全なプロジェクト要件と段階的開発計画

### 主要技術
- **React Native 0.79.4** と **React 19.0.0**
- **Expo SDK ~53.0.13** (Managed Workflow)
- **TypeScript** (strictモード有効)
- **pnpm** をパッケージマネージャーとして使用

### 開発フェーズ
プロジェクトは4段階の開発アプローチに従います：

1. **フェーズ1**: useStateを使った基本電卓
2. **フェーズ2**: 複数画面を持つReact Navigation（標準/科学/履歴）
3. **フェーズ3**: 計算履歴の永続化のためのAsyncStorage
4. **フェーズ4**: 高度な機能（アニメーション、テーマ、科学関数）

### 計画されたアーキテクチャ
- ナビゲーション経由でアクセス可能な複数の電卓モード
- AsyncStorageを使用した永続的な履歴
- テーマシステム（ライト/ダークモード）
- 高度な機能を持つ科学電卓
- カスタマイズのための設定画面

## 開発ノート

- アプリはExpoの新しいアーキテクチャを使用（`"newArchEnabled": true`）
- Androidでエッジツーエッジレンダリングが有効
- 縦向きに固定
- 型安全性のためTypeScript strictモードが有効
- プロジェクト構造はモバイルとWebプラットフォームの両方をサポート

## 現在の状態

アプリケーションは基本的なExpoボイラープレートでの初期セットアップ段階です。包括的な要件ドキュメントは、React Native + Expo開発パターンの学習手段として機能する本格的な電卓アプリの概要を示しています。

## コーディングルール

このプロジェクトはReactNativeやTypescriptの学習に重きを置いています。
作成するコードには日本語でコメントを書いてください。
またファイルを作成後には、doc/structure.mdに作成したファイルの概要を記載してください。

## Phase間の差分の記録

Phase間の差分をファイルに記載してください。
例えば、Phase1からPhase2への対応の場合はdoc/diff-phase1-2.mdというファイルに記載してください。
最初のPhase1の対応の場合は、doc/diff-phase0-1.mdというファイルに記載してください。

## エラー修正

エラーを修正した場合は、doc/error-fixed.mdに発生したエラーの内容と修正した方法を記載してください。